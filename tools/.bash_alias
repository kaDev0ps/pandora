# Basic commands
alias up='uptime -p'                                            # Show system uptime in a human-readable format
alias arg='rg --color=auto'                                      # Enable color output for ripgrep for Alt
alias rg='ripgrep --color=auto'                                # Enable color output for ripgrep for Astra
alias scat='sudo cat -n'                                        # Open cat with line numbers for root
alias c='clear'                                                 # Clear the terminal screen
alias ip='ip -br -c a'                                          # Show network interfaces and IP
alias l='ls -lh'                                                # List files with human-readable sizes
alias lo='locate'                                               # Find files by name using the locate database
alias df='df -h'                                                # Show disk space usage in human-readable format
alias ..='cd ..'                                                # Go up one directory
alias ll='lsd -lh --icon=never'                                 # List files with human-readable sizes without icons
alias la='ls -lah --color=auto'                                 # List all files including hidden ones with color
alias mkdir='mkdir -pv'                                         # Create directories and show the progress
alias svim='sudo vim'                                           # Open vim with line numbers for root
alias psg='ps aux | grep'                                       # Search for a process by name
alias vs='sudo visudo'                                          # Launch visudo
alias r='ranger'                                                # Launch ranger
alias del='sudo rm -rf'                                         # Recursive delete with sudo
alias duse='du -ah --max-depth=1 $(pwd) | sort -rh | head -n 10' # Check size of files in the current directory
alias dlog='du -sh /var/log/* 2>/dev/null | sort -hr | head -n 10' # Check size of logs
alias ncdu='sudo ncdu'                                          # Show disk usage with ncdu
alias lsof='sudo lsof -i'                                       # Show services on my ports
alias gr="grep -Ev '^\s*#|^$'"                                  # Show file without comment and empty line

# Updates
## Display system information
alias mtr10='mtr -r -c 10'                                      # Run traceroute with 10 cycles
alias mtr100='mtr -r -c 100'                                    # Run traceroute with 100 cycles
alias sysinfo='uname -a; lsb_release -a'                        # Show system and version info
alias update='sudo apt update'                                  # Update package lists
alias clean='sudo apt clean'                                    # Clean local repository of retrieved package files
alias autoremove='sudo apt autoremove -y'                       # Remove unnecessary packages automatically

# Monitoring
alias h='history'                                               # View command history
alias j='jobs -l'                                               # List current jobs
alias du='du -ch'                                               # Show disk usage of files and directories in human-readable format
alias sdu='du -sh /var/log/* 2>/dev/null | sort -hr | head -n 10' # Check big files in log directory
alias ports='sudo ss -tulnp'                                    # Show open ports and listening sockets
alias free='free -m -l -t'                                      # Display memory usage in megabytes
alias psmem='sudo ps auxf | sort -nr -k 4 | head -10'           # Show top 10 processes by memory usage
alias pscpu='sudo ps auxf | sort -nr -k 3 | head -10'           # Show top 10 processes by CPU usage
alias myip='curl ifconfig.me'                                   # Get the external IP address

# Networking
alias dnstop='sudo dnstop -l 5 enp0s3'                          # Monitor DNS traffic on interface enp0s3
alias vnstat='sudo vnstat -i enp0s3'                            # View network traffic stats on interface enp0s3
alias ift='sudo iftop -i'                                       # Display bandwidth usage on an interface
alias tcpdump='sudo tcpdump -i enp0s3'                          # Capture packet data on the specified interface

# Systemctl
alias sss='sudo systemctl stop'                                 # Stop a systemd service
alias ssr='sudo systemctl restart'                              # Restart a systemd service
alias sse='sudo systemctl enable'                               # Enable a systemd service to start on boot
alias ssd='sudo systemctl disable'                              # Disable a systemd service from starting on boot
alias ssc='sudo systemctl cat'                                  # Show the contents of a systemd service file
alias ssi='sudo systemctl status'                               # Check the status of a systemd service
alias slu='sudo systemctl list-units --type=service'            # List all systemd services
alias sdr='sudo systemctl daemon-reload'                        # Reload systemctl
alias srr='sudo systemctl reset-failed'                         # Reset systemctl failed state
alias edit='sudo systemctl edit'                                # Edit systemd units

# Journalctl
# View system logs
alias logs='sudo journalctl -xe'                                # Show recent logs with detailed error messages
alias err='grep -biw "error"'                                   # Search for error keyword in logs
alias jfeu='sudo journalctl -feu'                               # Follow the journal for a specific service

# Clean system logs
alias clearlogs='sudo journalctl --vacuum-time=1d'              # Remove logs older than 1 day

# Archiving
# Create a tar.gz archive
alias taz='tar -czvf'                                           # Create a compressed tarball

# Extract a tar.gz archive
alias untaz='tar -xzvf'                                         # Extract a compressed tarball

# Tools
alias iot='sudo iotop -oPa'                                     # TOP processes that actively use the disk (I/O)
alias ios='iostat  -mpxz'                                       # Information on disk usage
export HISTTIMEFORMAT="%d.%m.20%y %T "                          # Timestamp format in history
alias envr="source ~/ranger-env/bin/activate"                   # Activate ranger virtual environment
alias envs="deactivate"                                         # Deactivate virtual environment
alias pssh="parallel-ssh"                                       # Parallel SSH command execution
alias pssc="parallel-scp"                                       # Parallel file copy
alias fd="fdfind"                                               # Find files in OS

# GIT
alias gitp='gitc && git push'                                   # Commit and push to remote repo

# Load Balancer
alias nt='sudo nginx -t'                                        # Test nginx config
alias at='sudo angie -t'                                        # Test angie config
alias srn='sudo systemctl reload nginx'                         # Reload nginx service
alias sra='sudo systemctl reload angie'                         # Reload angie service

# Environment
export EDITOR=vim

# N3. Netrika
alias n3='for UNIT in $(systemctl list-unit-files "r*.service" --type=service --no-legend | awk "{print \$1}"); do PORT=$(systemctl show "$UNIT" --property=Environment | grep -oP "(?<=:)\d+"); if [ -n "$PORT" ]; then echo "$PORT $UNIT"; fi; done'

# Functions
gitc() {
  git add . && git commit -m "$(date '+%Y-%m-%d %H:%M:%S')" || echo "Git commit failed"
}

# Data in history
setopt extendedhistory
HIST_STAMPS="%F %T"

### DOCKER ###
# Basic Docker aliases
alias d='docker'                            # Main Docker command shortcut
alias di='docker info'                      # Detailed info about Docker setup
alias ds='docker stats'                     # Real-time container resource usage
alias dps='docker ps -a'                    # List all containers
alias drun='docker run -it'                 # Interactive container startup
alias dexec='docker exec -it'               # Enter container session interactively
alias dlogs='docker logs'                   # View container logs
alias drm='docker rm'                       # Remove container
alias dimages='docker images'               # List images
alias dclean='docker system prune -f'       # Clean unused resources
alias dbuild='docker build -t'              # Build image with tag
alias dvl='docker volume ls'                # List Docker volumes
alias dvrm='docker volume rm'               # Remove Docker volume
alias dnet='docker network ls'              # List Docker networks
alias dneti='docker network inspect'        # Get network details
alias dcup='docker-compose up -d'           # Start docker-compose in background
alias dcdown='docker-compose down'          # Stop docker-compose

# Important flags (for reference)
# -it    — interactive mode
# -d     — run in background
# -e     — set environment variables
# --name — specify container name
# -p     — port mapping
# -v     — mount volume

# User and access management
alias adduserd='sudo usermod -aG docker $USER'                    # Add user to "docker" group (run once, then re-login).
alias dmip='docker-machine ip default'                            # Get Docker Machine's IP (if using Docker Machine).

# Docker container management
alias drun='docker run -it'                                      # Interactive container startup. Example: drun ubuntu bash — run an interactive Ubuntu container.
alias drunn='docker run --name'                                  # Start container with a name. Example: drunn mycontainer -it ubuntu bash — start container named "mycontainer."
alias drund='docker run -d'                                      # Start a container in the background. Example: drund nginx — run nginx container in background.
alias dps='docker ps -a'                                         # List all containers, including stopped ones. Example: dps
alias dstop='docker stop'                                        # Stop a container. Example: dstop mycontainer — stop a container called "mycontainer."
alias dstart='docker start'                                      # Start a previously stopped container. Example: dstart mycontainer
alias dr='docker restart'                                        # Restart a container. Example: drestart mycontainer
alias drm='docker rm'                                            # Remove a container. Example: drm mycontainer
alias drmexited='docker rm -v $(docker ps -aq -f status=exited)' # Remove all stopped containers. Example: drmexited
alias drmiall='docker rmi $(docker images -q) --force'           # Remove all images. Example: drmiall

# Image and storage management
alias ddf='docker system df'                                     # Check image and resource usage size. Example: ddf
alias dimagesrm='docker images -a -q | xargs docker rmi'         # Delete all images. Example: dimagesrm

# Network and configuration
alias drunhost='docker run -h'                                   # Set custom hostname for the container. Example: drunhost myhost -it ubuntu bash
alias dinspect='docker inspect'                                  # View container's IP address. Example: dinspectip mycontainer
alias drunp='docker run -d -p'                                   # Port forwarding. Example: drunp 8000:8080 nginx
alias dexec='docker exec -it'                                    # Enter a running container interactively. Example: dexec mycontainer bash
alias ddiff='docker diff'                                        # Changes in the container's filesystem. Example: ddiff mycontainer
alias dcp='docker cp'                                            # Copy a file into a container. Example: dcp myfile.txt mycontainer:/root/
alias dcreate='docker create -it --name'                         # Create container without starting. Example: dcreate mycontainer ubuntu
alias drename='docker rename'                                    # Rename a container. Example: drename oldname newname
alias dcommit='docker commit'                                    # Save container changes as a new image. Example: dcommit mycontainer mynewimage

# Logs and runtime state
alias dlogs='docker logs'                                        # View container logs. Example: dlogs mycontainer
alias devents='docker events'                                    # Show Docker events stream. Example: devents
alias drestartsvc='sudo systemctl restart docker'                # Restart the Docker service. Example: drestartsvc
alias dattach='docker attach'                                    # Attach to a running container. Example: dattach mycontainer

# Image search and distribution
alias dsearch='docker search'                                    # Search images on Docker Hub. Example: dsearch nginx
alias dpull='docker pull'                                        # Pull/download an image. Example: dpull nginx
alias dpush='docker push'                                        # Push your image to a registry. Example: dpush myimage

# Mounting and permissions
alias drunvol='docker run --name -p -v -d'                       # Mount host folder into container with port mapping. Example: drunvol mycontainer -p 8080:80 -v /host/path:/container/path -d nginx
alias dexecmkdir='docker exec -it <name> mkdir'                  # Create folder in a running container. Example: dexecmkdir mycontainer /data
alias dexecchown='docker exec -it <name> chown <user>:<group>'   # Change directory owner inside container. Example: dexecchown mycontainer user:group /data
